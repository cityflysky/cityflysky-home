<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CityFlySky</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="favicon.ico">
</head>

<body>
<!-- partial:index.partial.html -->
<!-- import external fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Chewy&family=Patrick+Hand&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
<!-- import font awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<script src="scripts/function.js" defer></script>

<!-- Import External minting dApp -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
<script src="/build/main.js"></script>


<div class="container">

    <!-- Page Navigation -->


    <div class="mainnav" id="myMain">


        <a href="" class="active"><img id="lslogo" src="imgs/logo.png"
                                       alt="Lazy Sloth TREEHOUSE ( our Discord )"></a>

        <a href="#rarity">PROPERTY</a>
        <a href="#faq">FAQ</a>
        <a href="javascript:void(0);" class="icon" onclick="myMenu()">
            <i class="fa fa-bars"></i>
        </a>
        <a href="#" style="position: absolute;right: 0">On Building(City DAO)</a>
    </div>

    <!-- Banner image with option for C2A -->
    <div class="banner">
        <div id="world"></div>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/86/three.min.js'></script>
        <script src="bg/script.js"></script>
    </div>

    <!-- Main text for oboarding people -->
    <div class="main">
        <h1 id="city_sloth">City Class</h1>
        <p>Cityflysky is a DAO that provides tools for DAO organizations, and its core is to provide rich, easy-to-use
            DAO tools for creating and using DAO.</p>

        <p>Different DAOs are based in different cities.</p>

        <p>You can create the DAO city at the same time as the DAO is created</p>
        <p>Come and join us!!!</p>
    </div>

    <!-- Rarity section with gif on the left and traits on the right -->
    <div class="rarity">
        <div class="left">
            <img src="https://alca.tv/static/u/9b5f71cb-34a3-4fb4-a3a6-0ce9557c0acd_opt.png"
                 alt="Display the NFT, gif image">

        </div>

        <div class="right"><!-- Need to set the right values -->
            <h1 id="rarity">PROPERTY</h1>
            <table>
                <tr>
                    <td><h4>24</h4></td>
                    <td><p>BACKGROUNDS</p></td>
                </tr>
                <tr>
                    <td><h4>2</h4></td>
                    <td><p>building</p></td>
                </tr>
                <tr>
                    <td><h4>1</h4></td>
                    <td><p>Member</p></td>
                </tr>
                <tr>
                    <td><h4>3</h4></td>
                    <td><p>The elders house</p></td>
                </tr>
                <tr>
                    <td><h4>1</h4></td>
                    <td><p>parliament</p></td>
                </tr>
                <tr>
                    <td><h4>3</h4></td>
                    <td><p>department</p></td>
                </tr>

            </table>

        </div>
    </div>





    <!-- FAQ section. Toggle boxes with questions regarding the project -->
    <div class="faq">

        <h1 id="faq"> FAQ's</h1>

        <details>
            <summary><h2>About DAO</h2></summary>
            <h2>
                The DAO is an exciting concept whose core is the desire for equal authority, multi-party
                decision-making, and the elimination of uncontrollable risks arising from authoritarian governance as
                much as possible. DAO is a new type of management that was born for governance.

                As the most in line with the spirit of blockchain governance, DAO must have its place in the blockchain
                ecological map, and is an indispensable and important piece of the puzzle.
            </h2>
        </details>

        <details>
            <summary><h2>What is the Cityflysky?</h2></summary>
            <h2>
                <p>Cityflysky is a DAO that provides tools for DAO organizations, and its core is to provide rich,
                    easy-to-use DAO tools for creating and using DAO.</p>

                <p>
                    Cityflysky will provide an easy-to-use DAO creation tool that requires minimal gas and a few minutes
                    to fill in the data to create a DAO.

                </p>
                <p> Different DAOs will provide a one-of-a-kind city NFT .
                </p>
            </h2>

        </details>

        <details>
            <summary><h2>Our Vision</h2></summary>
            <h2>
                 <h3>Voluntary commitment</h3>

                <p>
                    Since the name of DAO is "Autonomous Decentralization", there is no specific authority. In the
                    "company", the "CEO" makes decisions and gives instructions to the "employees". In "DAO", there is no
                    "CEO" in the first place. Of course, there is no concept of "employee" either. In DAOs, the pyramid
                    structure is basically negated. The premise of working at DAO is that "everyone actively demonstrates
                    his/her special abilities and contributes to the project". You are always a "proposer" and a
                    "contributor", and the DAO needs your advice and contributions. It can be said that in order to work in
                    DAO, your project and your interests need to have a high degree of fit. Your contribution is maximized
                    when "what you can/want to do" and "what the DAO should do" overlap. If you work for a DAO, no one will
                    give you directions. If you can contribute a lot, you will be recognized as a "core contributor" and
                    will be rewarded and honored.
                </p>
                <h3>Regardless of age, gender or nationality, pay for performance and participate anonymously</h3>

                <p>
                    In the past, when working at a company, it was necessary to verify the identity of a person, but at
                    DAOs, this common sense is outdated. When you work for the DAO, you are not required to provide more
                    personal information than is necessary. Because DAOs are anonymous, they are also paid per contribution.
                    Regardless of your age, gender or nationality, what matters is your contribution to the DAO. Prehistoric
                    worker spirits, such as "work earlier than others, show loyalty" and "be loyal to your boss" are
                    completely a thing of the past. Welcome to a flat, pay-for-performance society.
                </p>

                <h3>Rewards are tokens</h3>

                <p>
                    Last but not least, the price of the contribution is the "project issued token". If you work for a
                    company, we will "receive fiat currency by bank transfer". "Receive tokens in a cryptocurrency wallet"
                    is common sense when working at DAOs. Accepting fiat currency as a reward can be considered a special
                    case. Tokens earned as rewards can be sold on the spot or held and managed as-is. If you think your
                    project will grow, you may not sell it but buy more. These tokens are usually so-called "governance
                    (voting) tokens". The more you contribute, the more governance tokens you earn. You can reflect your
                    intentions and interests in important decisions on your project. Using rewards as tokens to create some
                    kind of gameplay is also an innovation of DAO.
                </p>
            </h2>
        </details>
    </div>


    <!-- Join the community. CTA and maybe a email subscription form or the Discord link -->
    <div class="community">
        <h1>Are you ready to become a city owner?</h1>

        <!--        <div class="button" style="cursor: pointer">-->
        <!--            <a href="https://twitter.com/citysky17" target="_blank">OUR TWITTER</a>-->
        <!--        </div>-->
    </div>

    <!-- Footer section. Links to our social platforms -->
    <div class="foot">
        <h1>FIND US ON:</h1>
        <p>Only use links provided on this website and always validate the smart contract !</p>
        <div class="join-button" id="joinButton">
            Join City on Rinkeby(Testnet)
        </div>
        <div class="footwrapper">

            <a href="https://twitter.com/citysky17"><img src="imgs/twitter.png" alt="Twitter Link"></a>
        </div>
        <div class="footnote">
            <p>2022 CityFLySky . Top</p>
        </div>
    </div>


</div>
<!-- partial -->
<script src="./script.js"></script>
<script>
    const abiJson = [
        {
            "inputs": [
                {
                    "internalType": "int256",
                    "name": "",
                    "type": "int256"
                }
            ],
            "name": "citizenMap",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "joinCity",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        }
    ]

    if (typeof window.ethereum !== 'undefined') {
        console.log('MetaMask is installed!');
    }
    setTimeout(async ()=>{
        await window.ethereum.request({ method: 'eth_requestAccounts' });
        const web3 = new Web3(window.ethereum );
        const accounts = await  web3.eth.getAccounts()
        const constant = new web3.eth.Contract(abiJson, "0x4a07178346ef366baf8aC23d4cebe67fe8Fe2e4A", {});
        console.log(constant)
        window.constant = constant
        const joinButton = document.getElementById("joinButton")
        const joinCity= ()=>{
            constant.methods.joinCity().send({
                from: accounts[0],
                gas: 100000
            }).then(res => {
                console.log(res)
                alert('success')
            }).catch(e=>{
                console.log(e)
                alert(e)
            })
        }
        joinButton.onclick = ()=>{
            joinCity()
        }
    },1000)

</script>
</body>
</html>
